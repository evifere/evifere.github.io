(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["cocoricoqot"],{2117:function(e,t,n){"use strict";var i=n("e558"),o=n.n(i);o.a},"5dcc":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{style:e.mainorientation},[n("el-aside",{directives:[{name:"show",rawName:"v-show",value:!e.isEditable,expression:"!isEditable"}],attrs:{width:"508px"}},[n("img",{ref:"preview",attrs:{width:"500",height:"175",src:""}})]),n("el-aside",{directives:[{name:"show",rawName:"v-show",value:e.isEditable,expression:"isEditable"}],attrs:{width:"525px"}},[n("emoji-picker",{directives:[{name:"show",rawName:"v-show",value:e.isTextSelected,expression:"isTextSelected"}],attrs:{search:e.search},on:{emoji:e.insertEmoji},scopedSlots:e._u([{key:"emoji-invoker",fn:function(e){var t=e.events.click;return n("div",{staticClass:"emoji-invoker",on:{click:function(e){return e.stopPropagation(),t(e)}}},[n("svg",{attrs:{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{attrs:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"}})])])}},{key:"emoji-picker",fn:function(t){var i=t.emojis;t.insert,t.display;return n("div",{staticClass:"emoji-picker"},[n("div",[n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],attrs:{type:"text"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}})]),n("div",e._l(i,(function(t,i){return n("div",{key:i},[n("h5",[e._v(e._s(i))]),n("div",e._l(t,(function(t,i){return n("span",{key:i,attrs:{title:i},on:{click:function(n){return e.insertEmoji(t)}}},[e._v(e._s(t))])})),0)])})),0)])])}}])}),n("canvas",{attrs:{id:"background",tabindex:"0"}})],1),n("el-container",{staticStyle:{"min-width":"500px"}},[n("el-header",[e._v("CocoriQot générateur de citation parodique ! "),n("el-button",{on:{click:function(t){return e.$router.push("cocoricover")}}},[e._v("Couverture")])],1),n("el-main",[n("hr"),n("el-col",{staticClass:"params-panel"},[n("el-row",[n("el-col",{staticClass:"col-label col-text-center",attrs:{span:e._f("mq")(e.$mq,{sm:12,md:4,lg:4})}},[n("label",[e._v("Mais que fais la police !")])]),n("el-col",{attrs:{span:e._f("mq")(e.$mq,{sm:12,md:4,lg:4})}},[n("el-select",{attrs:{placeholder:"Mais que fais la police ?",disabled:!e.isTextSelected||!e.isEditable},model:{value:e.currentTextObjectConfig.fontFamily,callback:function(t){e.$set(e.currentTextObjectConfig,"fontFamily",t)},expression:"currentTextObjectConfig.fontFamily"}},e._l(e.allFonts,(function(t){return n("el-option",{key:t,attrs:{label:t,value:t}},[n("span",{style:"font-family:"+t},[e._v(e._s(t))])])})),1)],1),n("el-col",{staticClass:"col-label col-text-center",attrs:{span:e._f("mq")(e.$mq,{sm:12,md:4,lg:4})}},[n("label",[e._v("Gérer les kilos en trop")])]),n("el-col",{attrs:{span:e._f("mq")(e.$mq,{sm:12,md:4,lg:4})}},[n("el-select",{attrs:{placeholder:"font weight",disabled:!e.isTextSelected||!e.isEditable},model:{value:e.currentTextObjectConfig.fontWeight,callback:function(t){e.$set(e.currentTextObjectConfig,"fontWeight",t)},expression:"currentTextObjectConfig.fontWeight"}},e._l(e.fontWeights,(function(e){return n("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),n("el-col",{staticClass:"col-label col-text-center",attrs:{span:e._f("mq")(e.$mq,{sm:12,md:4,lg:4})}},[n("label",[e._v("Avoir du style")])]),n("el-col",{attrs:{span:e._f("mq")(e.$mq,{sm:12,md:4,lg:4})}},[n("el-select",{attrs:{placeholder:"font weight",disabled:!e.isTextSelected||!e.isEditable},model:{value:e.currentTextObjectConfig.fontStyle,callback:function(t){e.$set(e.currentTextObjectConfig,"fontStyle",t)},expression:"currentTextObjectConfig.fontStyle"}},e._l(e.fontStyles,(function(e){return n("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1),n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-col",{attrs:{span:e._f("mq")(e.$mq,{sm:24,md:10,lg:10})}},[n("el-checkbox",{model:{value:e.currentTextObjectConfig.underline,callback:function(t){e.$set(e.currentTextObjectConfig,"underline",t)},expression:"currentTextObjectConfig.underline"}},[e._v("Underline")]),n("el-checkbox",{model:{value:e.currentTextObjectConfig.linethrough,callback:function(t){e.$set(e.currentTextObjectConfig,"linethrough",t)},expression:"currentTextObjectConfig.linethrough"}},[e._v("Line through")]),n("el-checkbox",{model:{value:e.currentTextObjectConfig.overline,callback:function(t){e.$set(e.currentTextObjectConfig,"overline",t)},expression:"currentTextObjectConfig.overline"}},[e._v("Overline")])],1)],1),n("el-row",{staticClass:"empty"}),n("el-row",[n("el-col",{staticClass:"col-label col-text-left",attrs:{span:8}},[n("label",[e._v("L'égoût et les couleurs !")])]),n("el-col",{attrs:{span:16}},[n("el-select",{attrs:{placeholder:"L'égoût et les couleurs !",disabled:!e.isEditable},model:{value:e.mainColor,callback:function(t){e.mainColor=t},expression:"mainColor"}},e._l(e.mainColors,(function(t){return n("el-option",{key:t,attrs:{label:t,value:t}},[n("el-row",[n("el-col",{attrs:{span:16}},[n("span",[e._v(e._s(t))])]),n("el-col",{attrs:{span:8}},[n("div",{staticClass:"color-box",style:"background:"+t+";"})])],1)],1)})),1)],1)],1),n("el-row",[n("el-col",{staticClass:"col-label col-text-left",attrs:{span:8}},[n("label",[e._v("La couleur de la plume est plus forte que le pêt.")])]),n("el-col",{attrs:{span:16}},[n("el-select",{attrs:{placeholder:"La couleur du texte",disabled:!e.isTextSelected||!e.isEditable},model:{value:e.currentTextObjectConfig.fill,callback:function(t){e.$set(e.currentTextObjectConfig,"fill",t)},expression:"currentTextObjectConfig.fill"}},e._l(e.mainColors,(function(t){return n("el-option",{key:t,attrs:{label:t,value:t}},[n("el-row",[n("el-col",{attrs:{span:16}},[n("span",[e._v(e._s(t))])]),n("el-col",{attrs:{span:8}},[n("div",{staticClass:"color-box",style:"background:"+t+";"})])],1)],1)})),1)],1)],1),n("el-row",[n("el-col",{staticClass:"col-label col-text-left",attrs:{span:8}},[n("label",[e._v("Text align")])]),n("el-col",{attrs:{span:16}},[n("el-select",{attrs:{placeholder:"Alignement",disabled:!e.isTextSelected||!e.isEditable},model:{value:e.currentTextObjectConfig.textAlign,callback:function(t){e.$set(e.currentTextObjectConfig,"textAlign",t)},expression:"currentTextObjectConfig.textAlign"}},e._l(e.alignments,(function(e){return n("el-option",{key:e,attrs:{label:e,value:e.toLowerCase()}})})),1)],1)],1),n("el-row",{staticClass:"empty"}),n("el-row",[n("el-col",{staticClass:"col-label col-text-left",attrs:{span:4}},[n("label",[e._v("Thunder Stroke")])]),n("el-col",{attrs:{span:4}},[n("el-color-picker",{attrs:{size:"mini","color-format":"hex"},model:{value:e.currentTextObjectConfig.stroke,callback:function(t){e.$set(e.currentTextObjectConfig,"stroke",t)},expression:"currentTextObjectConfig.stroke"}})],1),n("el-col",{attrs:{span:16}},[n("el-slider",{attrs:{min:0,max:10,step:.1,"show-input":"",disabled:!e.isTextSelected||!e.isEditable},model:{value:e.currentTextObjectConfig.strokeWidth,callback:function(t){e.$set(e.currentTextObjectConfig,"strokeWidth",t)},expression:"currentTextObjectConfig.strokeWidth"}})],1)],1),n("el-row",[n("el-col",{staticClass:"col-label col-text-left",attrs:{span:8}},[n("label",[e._v("Font size")])]),n("el-col",{attrs:{span:16}},[n("el-slider",{attrs:{min:1,max:120,step:1,"show-input":"",disabled:!e.isTextSelected||!e.isEditable},model:{value:e.currentTextObjectConfig.fontSize,callback:function(t){e.$set(e.currentTextObjectConfig,"fontSize",t)},expression:"currentTextObjectConfig.fontSize"}})],1)],1),n("el-row",[n("el-col",{staticClass:"col-label col-text-left",attrs:{span:8}},[n("label",[e._v("Line height")])]),n("el-col",{attrs:{span:16}},[n("el-slider",{attrs:{min:0,max:10,step:.1,"show-input":"",disabled:!e.isTextSelected||!e.isEditable},model:{value:e.currentTextObjectConfig.lineHeight,callback:function(t){e.$set(e.currentTextObjectConfig,"lineHeight",t)},expression:"currentTextObjectConfig.lineHeight"}})],1)],1),n("el-row",[n("el-switch",{attrs:{"active-text":"Edition en cours","inactive-text":"Mode Preview"},on:{change:e.saveToPng},model:{value:e.isEditable,callback:function(t){e.isEditable=t},expression:"isEditable"}})],1),n("hr"),n("el-row",[n("a",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"downloadPng",attrs:{href:"#",download:"cocoriQot.png"}}),n("el-button",{attrs:{type:"primary",icon:"el-icon-download"},on:{click:e.downloadPng}},[e._v("Png")])],1)],1)],1),n("el-footer",{attrs:{align:"right"}},[e._v("copyright 2018-2019 @cocoricorly v"+e._s(e.version))])],1)],1)},o=[],l=(n("6762"),n("2fdb"),n("456d"),n("ac6a"),n("7a94")),s=n("9224"),a=n("669f"),r=n.n(a),c=n("0342"),d={name:"CocoricoQotEditor",components:{EmojiPicker:r.a},props:{msg:String},data:function(){return{input:"",search:"",currentTextObjectConfig:{fontFamily:"Times New Roman",fontWeight:"normal",fontStyle:"normal",fontSize:5,underline:!1,linethrough:!1,overline:!1,lineHeight:1.16,textAlign:"left",fill:"white",strokeWidth:1,stroke:"#ffffff"},isTextSelected:!0,topText:"“ Je ne fais qu'une chose c'est que je ne fait rien ”",authorsText:"Benny Hillist , philosophe",mainColor:"darkmagenta",mainColors:n("74d6"),fonts:n("3148"),gofonts:n("e226"),alignments:["Left","Center","Justify","Right"],isEditable:!0,fontStyles:["","normal","italic","oblique"],fontWeights:["bold","normal",400,600,800],version:s["a"]}},mounted:function(){this.$canvas=new l["fabric"].Canvas("background",{width:500,height:175,backgroundColor:"white"}),this.$canvas.upperCanvasEl.setAttribute("tabindex","1"),this.$canvas.upperCanvasEl.addEventListener("keydown",this.onKeyDown),this.$headline=this.makeLine([5,0,495,0],this.mainColor),this.$canvas.add(this.$headline);var e=new l["fabric"].Textbox(this.topText,{left:10,top:10,width:460,fontSize:42,fontStyle:"italic",borderColor:"green",textAlign:"center"});this.$footline=this.makeLine([100,140,400,140],this.mainColor),this.$canvas.add(this.$footline),this.$canvas.add(e).setActiveObject(e),this.currentTextObjectConfig=e.toObject();var t=new l["fabric"].Textbox(this.authorsText,{left:280,top:150,width:300,borderColor:"green",selectionBackgroundColor:"yellow",fontSize:20,fontStyle:"italic"});this.$canvas.add(t);var n=new l["fabric"].Text("💬",{left:70,top:150,fontSize:15,fontWeight:"bold"});this.$canvas.add(n).add(n);var i=new l["fabric"].Text("CocoricoRLY",{left:10,top:160,fontSize:10,fontWeight:"bold"});this.$canvas.add(i).add(i),this.registerTextWatcher(),this.$canvas.on("selection:cleared",this.onObjectSelected),this.$canvas.on("selection:created",this.onObjectSelected),this.$canvas.on("selection:updated",this.onObjectSelected),this.saveToPng(),this.$canvas.requestRenderAll()},methods:{registerTextWatcher:function(){var e=this;Object.keys(this.currentTextObjectConfig).filter((function(e){return"fontFamily"!==e})).forEach((function(t){return e.$watch("currentTextObjectConfig."+t,(function(n){return e.setActiveProp(t,n)}))}))},onObjectSelected:function(e){var t=this.$canvas.findTarget(e);this.isTextSelected=!1,void 0!==t&&(this.isTextSelected=!("image"===t.type),this.currentTextObjectConfig=t.toObject())},onKeyDown:function(e){"Backspace"!==e.code&&"Delete"!==e.code||this.deleteActiveObject()},deleteActiveObject:function(){var e=this.$canvas.getActiveObject();e&&this.$canvas.remove(e)},setActiveProp:function(e,t){var n=this.$canvas.getActiveObject();n&&(n.set(e,t).setCoords(),this.update(),this.$canvas.renderAll())},update:function(){this.$canvas&&(this.$canvas.fire("canvas:modified"),this.$canvas.requestRenderAll())},loadAndUse:function(e){var t=new c(e),n=this;t.load().then((function(){n.setActiveProp("fontFamily",e)})).catch((function(t){console.error(t),alert("font loading failed "+e)}))},saveToPng:function(){this.$refs.preview.src=this.$canvas.toDataURL("image/png")},downloadPng:function(){this.$refs.downloadPng.href=this.$canvas.toDataURL("image/png"),this.$refs.downloadPng.click()},makeLine:function(e,t){return new l["fabric"].Line(e,{fill:t,stroke:t,strokeWidth:5,selectable:!1,originX:"left",originY:"top"})},insertEmoji:function(e){var t=this.$canvas.getActiveObject(),n=t.selectionStart>0?t.selectionStart:t._text.length;t.insertChars(e,null,n),this.$canvas.requestRenderAll()}},computed:{allFonts:function(){return this.fonts.concat(this.gofonts)},mainorientation:function(){return"sm"===this.$mq?{display:"flex","flex-direction":"column"}:null}},watch:{"currentTextObjectConfig.fontFamily":function(){this.gofonts.includes(this.currentTextObjectConfig.fontFamily)?this.loadAndUse(this.currentTextObjectConfig.fontFamily):this.setActiveProp("fontFamily",this.currentTextObjectConfig.fontFamily)},mainColor:function(){this.$headline.set({fill:this.mainColor,stroke:this.mainColor}),this.$footline.set({fill:this.mainColor,stroke:this.mainColor}),this.$canvas.requestRenderAll()}}},u=d,f=(n("2117"),n("2877")),h=Object(f["a"])(u,i,o,!1,null,"42175d54",null);t["default"]=h.exports},e558:function(e,t,n){}}]);
//# sourceMappingURL=cocoricoqot.921f3b25.js.map